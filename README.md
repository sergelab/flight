# flight (v0.5.2)

Графическая программа "бесконечного" полёта над гористой поверхностью.
Рендер: ModernGL, окно/ввод: pygame. Менеджер зависимостей: Poetry.

## Цель v0.3+ (Variant A: стабильность)
Начиная с v0.3 зафиксирована **стабильная базовая картинка без мерцания**:
- цвет поверхности задаётся по высоте (палитра)
- освещение Lambert (diffuse) + фиксированный ambient
- туман (fog) по дальности вперёд

Дополнительно (v0.3+):
- более разнообразная форма рельефа (domain warp + macro layer)
- реки и озёра (синие оттенки поверх базовой палитры)

В этой версии **нет** мелкодетальной процедурной "текстуры" (контуров/noise) — это сознательное решение, чтобы убрать shimmer на движении камеры.

## Что добавлено в v0.5.2
- Вода: рябь + Fresnel и псевдо-отражение неба (в шейдере).
- Рельеф: больше холмов + редкие высокие горы.
- Снег: снежные вершины по высоте и уклону.

## Требования
- Python 3.12
- macOS приоритетно (кроссплатформенно)

## Установка
```bash
poetry install
```

## Запуск
```bash
poetry run flight
```

## Параметры CLI
- `--seed <int|random>` (по умолчанию 12345)
- `--speed <float>`
- `--height-offset <float>`
- `--chunk-res <int>`
- `--chunk-size <float>`
- `--fog-start <float>`
- `--fog-end <float>`
- `--wireframe`
- `--debug`

Экспериментально:
- `--lod / --no-lod` (по умолчанию **выключено** в v0.3, чтобы избежать артефактов)
- `--noise fast|simplex` (влияет на генерацию высот, не на "текстуру" поверхности)

## Документация
- PM: `/docs/pm/prd.md`, `/docs/pm/roadmap.md`
- Tech: `/docs/tech/*`
- Индекс: `/docs/knowledge_base.md`
