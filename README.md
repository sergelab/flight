# flight (v0.4.0)

Графическая программа "бесконечного" полёта над гористой поверхностью.
Рендер: ModernGL, окно/ввод: pygame. Менеджер зависимостей: Poetry.

## Цель v0.4 (Variant B: визуальное улучшение без мерцания)
В v0.3 была зафиксирована **стабильная базовая картинка без мерцания**:
- цвет поверхности задаётся по высоте (палитра)
- освещение Lambert (diffuse) + фиксированный ambient
- туман (fog) по дальности вперёд

Дополнительно в v0.3:
- более разнообразная форма рельефа (domain warp + macro layer)
- реки и озёра (синие оттенки поверх базовой палитры)

В v0.4 добавлено визуальное улучшение без возврата shimmer:
- 2 небольшие **tile-текстуры** (grass/rock) + mipmaps, смешивание по высоте/уклону
- "продуктовый" LOD: дальнее кольцо чуть сильнее смешивается с fog (скрывает разницу разрешений)

## Требования
- Python 3.12
- macOS приоритетно (кроссплатформенно)

## Установка
```bash
poetry install
```

## Запуск
```bash
poetry run flight
```

## Параметры CLI
- `--seed <int|random>` (по умолчанию 12345)
- `--speed <float>`
- `--height-offset <float>`
- `--chunk-res <int>`
- `--chunk-size <float>`
- `--fog-start <float>`
- `--fog-end <float>`
- `--wireframe`
- `--debug`

Экспериментально:
- `--lod / --no-lod` (по умолчанию **выключено** в v0.3, чтобы избежать артефактов)
- `--noise fast|simplex` (влияет на генерацию высот, не на "текстуру" поверхности)

v0.4:
- `--textures / --no-textures` (по умолчанию **включено**)
- `--tex-scale <float>` (по умолчанию низкое значение для стабильности)
- `--far-fade <float>` (0..1, дополнительное "вплавление" дальнего LOD в fog)

## Документация
- PM: `/docs/pm/prd.md`, `/docs/pm/roadmap.md`
- Tech: `/docs/tech/*`
- Индекс: `/docs/knowledge_base.md`
